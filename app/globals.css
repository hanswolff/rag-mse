@import "tailwindcss";
@config "../tailwind.config.mjs";
@import "leaflet/dist/leaflet.css";

/* Z-index layer hierarchy for consistent stacking context */
:root {
  --z-overlay: 50;
  --z-map-pane: 500;
  --z-map-control: 600;
  --z-header: 1000;
  --z-dropdown: 1040;
  --z-modal: 1050;
}

/* Leaflet map z-index overrides
   Third-party library styles require !important to override
   Map panes appear below modals but above normal content
*/
.leaflet-pane,
.leaflet-tile-pane,
.leaflet-overlay-pane,
.leaflet-marker-pane,
.leaflet-shadow-pane,
.leaflet-popup-pane {
  z-index: var(--z-map-pane) !important;
}

.leaflet-control {
  z-index: var(--z-map-control) !important;
}

:root {
  --background: #f6f7f9;
  --foreground: #1b1f23;
  --brand-blue-900: #13202d;
  --brand-red-500: #c8102e;
  --brand-gold-400: #c9a54b;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #e2e8f0;
  }
}

body {
  color: var(--foreground);
  background: var(--background);
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

@layer components {
  .btn-primary {
    @apply inline-flex items-center justify-center gap-2 rounded-md px-4 py-2 text-base font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-brand-red-600/30 focus:ring-offset-2 focus:ring-offset-white disabled:opacity-60 disabled:cursor-not-allowed bg-brand-red-600 text-white hover:bg-brand-red-700;
  }

  .btn-secondary {
    @apply inline-flex items-center justify-center gap-2 rounded-md px-4 py-2 text-base font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-brand-red-600/30 focus:ring-offset-2 focus:ring-offset-white disabled:opacity-60 disabled:cursor-not-allowed bg-brand-blue-800 text-white hover:bg-brand-blue-900;
  }

  .btn-outline {
    @apply inline-flex items-center justify-center gap-2 rounded-md px-4 py-2 text-base font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-brand-red-600/30 focus:ring-offset-2 focus:ring-offset-white disabled:opacity-60 disabled:cursor-not-allowed border border-brand-blue-200 text-brand-blue-900 hover:bg-brand-blue-50;
  }

  .btn-outline-inverse {
    @apply inline-flex items-center justify-center gap-2 rounded-md px-4 py-2 text-base font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-white/50 focus:ring-offset-2 focus:ring-offset-brand-blue-900 disabled:opacity-60 disabled:cursor-not-allowed border border-white text-white hover:bg-white hover:text-brand-blue-900;
  }

  .link-primary {
    @apply text-brand-red-700 hover:text-brand-red-800 hover:underline;
  }

  .card {
    @apply bg-white shadow-md rounded-lg p-6 sm:p-8;
  }

  .card-compact {
    @apply bg-white shadow rounded-lg p-4 sm:p-6;
  }

  .card-compact h2 {
    @apply text-gray-500;
  }

  .card-elevated {
    @apply bg-white shadow-lg rounded-lg p-6 sm:p-8 hover:shadow-xl transition-shadow;
  }

  .form-label {
    @apply block text-base font-medium text-gray-700 mb-1;
  }

  .form-input {
    @apply w-full px-3 py-2.5 sm:py-2 border border-gray-300 rounded-md bg-white text-gray-900 placeholder:text-gray-400 placeholder:italic focus:outline-none focus:ring-2 focus:ring-brand-red-600/30 text-base sm:text-base disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .form-select {
    @apply w-full px-3 py-2.5 sm:py-2 border border-gray-300 rounded-md bg-white text-gray-900 focus:outline-none focus:ring-2 focus:ring-brand-red-600/30 text-base sm:text-base disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .form-textarea {
    @apply w-full px-3 py-2.5 sm:py-2 border border-gray-300 rounded-md bg-white text-gray-900 placeholder:text-gray-400 placeholder:italic focus:outline-none focus:ring-2 focus:ring-brand-red-600/30 text-base sm:text-base resize-y disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .form-help {
    @apply text-base text-gray-500 mt-1;
  }
}

.tiptap-content p {
  margin: 0;
}

.tiptap-content p + p {
  margin-top: 0.5rem;
}

.tiptap-content ul,
.tiptap-content ol {
  margin: 0.5rem 0;
  padding-left: 1.5rem;
}

.tiptap-content blockquote {
  border-left: 3px solid #d1d5db;
  margin: 0.5rem 0;
  padding-left: 0.75rem;
  color: #4b5563;
}

.tiptap-content a,
.event-description-content a {
  color: #1f4f82;
  text-decoration: underline;
}

.event-description-content p {
  margin: 0;
}

.event-description-content p + p {
  margin-top: 0.75rem;
}

.event-description-content ul,
.event-description-content ol {
  list-style-position: outside;
  margin: 0.75rem 0;
  padding-left: 1.5rem;
}

.event-description-content blockquote {
  border-left: 3px solid #d1d5db;
  margin: 0.75rem 0;
  padding-left: 0.75rem;
  color: #4b5563;
}

/* Custom scrollbar for better visual consistency */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--brand-blue-900);
}

::-webkit-scrollbar-thumb {
  background: var(--brand-red-500);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--brand-gold-400);
}
